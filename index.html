<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xcessories Shop - Main Page</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Profile menu dropdown style */
        .profile-icon {
            position: relative;
        }

        #profile-menu {
            display: none;  /* Hidden by default */
            position: absolute;
            top: -100px;  /* Adjust to show above the profile icon */
            right: 0;
            background-color: #fff;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 100;
            width: 200px;
            border-radius: 5px;
        }

        #profile-menu p {
            margin: 0;
            padding: 10px;
            background-color: #f1f1f1;
            border-bottom: 1px solid #ddd;
        }

        #profile-menu p a {
            color: #333;
            text-decoration: none;
        }

        #profile-menu p:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <!-- Header with Navigation Bar, Logo, and Profile Icon -->
    <header>
        <div class="logo-container">
            <a href="index.html">
                <img src="images/logo.png" alt="Xcessories Shop Logo" class="logo-small">
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="products.html">Products</a></li>
                <li><a href="chat.html">Chat</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="cart.html" class="cart-icon">
                    <img src="images/shopping_chat.png" alt="Cart" id="cart-icon">
                    <span id="cart-count">0</span>
                </a></li>
            </ul>
        </nav>
    </header>
    
    <!-- Include this JavaScript on every page (preferably before the closing body tag) -->
    <script>
    // Check cart count on every page load
    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = cart.reduce((total, item) => total + item.quantity, 0); // Count total items
        document.getElementById('cart-count').textContent = cartCount;
    }
    
    // Call the updateCartCount function on page load
    updateCartCount();
    </script>
        
    <!-- Main Content Sections -->
    <section class="welcome-section">
        <h2>Welcome to Xcessories Shop</h2>
        <p>Discover premium accessories and top-selling products!</p>
    </section>

    <section class="shop-now-section">
        <a href="products.html" class="shop-now-button">Shop Now</a>
    </section>

    <section class="top-selling-section">
        <h2>Top-Selling Products</h2>
        <div class="products">
            <div class="product">
                <img src="images/product1.jpg" alt="Product 1">
                <h3>NIKE TECH FLEECE HOODIE x UNIVERSITY RED</h3>
                <p>$100.00</p>
                <!-- Update Buy Now button with onclick event -->
                <button class="buy-now-button" onclick="addToCart('NIKE TECH FLEECE HOODIE', 100)">Buy Now</button>
            </div>
            <div class="product">
                <img src="images/product2.jpg" alt="Product 2">
                <h3>P*nk Sp5der Hoodie</h3>
                <p>$100.00</p>
                <!-- Update Buy Now button with onclick event -->
                <button class="buy-now-button" onclick="addToCart('P*nk Sp5der Hoodie', 100)">Buy Now</button>
            </div>
            <!-- Repeat this for each product -->
        </div>
    </section>
    

    <!-- Footer Section -->
    <footer>
        <div class="footer-content">
            <h3>Sign up for upcoming drops</h3>
            <div class="email-subscribe">
                <input type="email" placeholder="Enter your email">
                <button>Subscribe</button>
            </div>
            <div class="payment-methods">
                <img src="images/secure-payment.png" alt="secure-payment">
                <img src="images/cashapp.png.png" alt="cashapp">
                <img src="images/paypal.png" alt="PayPal">
                <img src="images/cards.png" alt="cards">
            </div>
        </div>
    </footer>

    <!-- JavaScript for Profile Menu Dropdown -->
    <script>
        function toggleProfileMenu() {
            const profileMenu = document.getElementById('profile-menu');
            profileMenu.style.display = profileMenu.style.display === 'none' ? 'block' : 'none';
        }

        // Close the profile menu if the user clicks outside of it
        document.addEventListener('click', function(event) {
            const profileMenu = document.getElementById('profile-menu');
            const profileIcon = document.querySelector('.profile-icon img');
            if (!profileIcon.contains(event.target) && !profileMenu.contains(event.target)) {
                profileMenu.style.display = 'none';
            }
        });
    </script>
</body>
</html>
